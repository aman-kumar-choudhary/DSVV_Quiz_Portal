{% extends "base.html" %} {% block title %}Quiz Instructions - DSVV Quiz
System{% endblock %} {% block content %}
<div class="max-w-4xl mx-auto">
  <div class="text-center mb-8">
    <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
      Quiz Instructions
    </h1>
    <p class="text-lg text-gray-600">
      Please read the instructions carefully before starting the quiz
    </p>
  </div>

  <!-- Course Information -->
  <div class="bg-white p-6 rounded-xl shadow-md mb-6">
    <h2 class="text-2xl font-bold text-gray-800 mb-4">Quiz Details</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <div>
        <p class="text-sm text-gray-600">Course</p>
        <p class="font-semibold text-blue-800">{{ user.course }}</p>
      </div>
      <div>
        <p class="text-sm text-gray-600">Semester</p>
        <p class="font-semibold text-blue-800">Semester {{ user.semester }}</p>
      </div>
      <!-- In instructions.html, ensure duration is displayed correctly -->
      <!-- In the Quiz Details section -->
      <div>
        <p class="text-sm text-gray-600">Duration</p>
        <p class="font-semibold text-blue-800">
          {% if user.quiz_duration %} {{ user.quiz_duration }} minutes {% else
          %} Loading... {% endif %}
        </p>
      </div>
      <div>
        <p class="text-sm text-gray-600">Total Questions</p>
        <p class="font-semibold text-blue-800">
          {% if user.total_questions %} {{ user.total_questions }} questions {%
          else %} Loading... {% endif %}
        </p>
      </div>

      <!-- In the Time Limit instruction -->
      <p class="text-gray-600">
        The quiz has a time limit of {{ user.quiz_duration }} minutes. Once you
        start, the timer cannot be paused.
      </p>
    </div>
  </div>

  <!-- Instructions -->
  <div class="bg-white p-6 rounded-xl shadow-md mb-6">
    <h2 class="text-2xl font-bold text-gray-800 mb-4">
      Important Instructions
    </h2>

    <div class="space-y-4">
      <div class="flex items-start">
        <div
          class="flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center mt-1"
        >
          <span class="text-blue-600 text-sm font-bold">1</span>
        </div>
        <div class="ml-3">
          <h3 class="text-lg font-semibold text-gray-800">Time Limit</h3>
          <p class="text-gray-600">
            The quiz has a time limit of {{ (session.quiz_duration // 60) }}
            minutes. Once you start, the timer cannot be paused.
          </p>
        </div>
      </div>

      <div class="flex items-start">
        <div
          class="flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center mt-1"
        >
          <span class="text-blue-600 text-sm font-bold">2</span>
        </div>
        <div class="ml-3">
          <h3 class="text-lg font-semibold text-gray-800">Navigation</h3>
          <p class="text-gray-600">
            Use the Next and Previous buttons to navigate between questions. You
            can change your answers anytime before submission.
          </p>
        </div>
      </div>

      <div class="flex items-start">
        <div
          class="flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center mt-1"
        >
          <span class="text-blue-600 text-sm font-bold">3</span>
        </div>
        <div class="ml-3">
          <h3 class="text-lg font-semibold text-gray-800">Submission</h3>
          <p class="text-gray-600">
            Click the "Submit Quiz" button when you're finished. You can also
            submit automatically when time runs out.
          </p>
        </div>
      </div>

      <div class="flex items-start">
        <div
          class="flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center mt-1"
        >
          <span class="text-blue-600 text-sm font-bold">4</span>
        </div>
        <div class="ml-3">
          <h3 class="text-lg font-semibold text-gray-800">Technical Issues</h3>
          <p class="text-gray-600">
            If you experience technical difficulties, stay calm and try
            refreshing the page. Your progress is saved automatically.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Rules -->
  <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg mb-6">
    <div class="flex">
      <div class="flex-shrink-0">
        <svg
          class="h-5 w-5 text-yellow-400"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
            clip-rule="evenodd"
          />
        </svg>
      </div>
      <div class="ml-3">
        <h3 class="text-lg font-medium text-yellow-800">Important Rules</h3>
        <div class="mt-2 text-yellow-700">
          <ul class="list-disc list-inside space-y-1">
            <li>Do not refresh the page during the quiz</li>
            <li>Do not navigate away from the quiz page</li>
            <li>Do not use any unauthorized resources</li>
            <li>Complete the quiz in one sitting</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="flex flex-col sm:flex-row gap-4 justify-center">
    <a
      href="{{ url_for('student_dashboard') }}"
      class="inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
    >
      <i class="fas fa-arrow-left mr-2"></i> Back to Dashboard
    </a>

    <form id="startQuizForm" class="inline-flex">
      <button
        type="button"
        onclick="startQuiz()"
        class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      >
        <i class="fas fa-play-circle mr-2"></i> Start Quiz Now
      </button>
    </form>

    <script>
      function startQuiz() {
        fetch("/start_quiz", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
        })
          .then((response) => response.json())
          .then((data) => {
            if (data.success) {
              window.location.href = data.redirect;
            } else {
              alert("Error: " + data.error);
            }
          })
          .catch((error) => {
            console.error("Error:", error);
            alert("An error occurred. Please try again.");
          });
      }
    </script>
  </div>

  <!-- Motivational Quote -->
  <div class="mt-8 text-center">
    <blockquote class="text-lg italic text-gray-600">
      "The beautiful thing about learning is that no one can take it away from
      you."
    </blockquote>
    <p class="mt-2 text-gray-500">- B.B. King</p>
  </div>
</div>
{% endblock %}
